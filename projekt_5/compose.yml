services:
  # PHP and Apache, described in Dockerfile
  php-apache:
    container_name: php-apache
    build:
      context: .
      dockerfile: Dockerfiles/PhpApache # here is Dockerfile
    volumes:
      - ./html:/var/www/html/ # mapping external/internal directory
    ports:
      - 8000:80 # mapping external/internal Apache port

  # MySQL database installation
  db:
    container_name: db
    build:
      context: .
      dockerfile: Dockerfiles/Database # here is Dockerfile
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: university
      MYSQL_USER: admin
      MYSQL_PASSWORD: heslo
    ports:
      - 9906:3306

  # phpMyAdmin installation for database management
  phpmyadmin:
    image: phpmyadmin # base image
    environment:
      PMA_HOST: db
    ports:
      - 8080:80 # port 80 will be exposed as 8080
